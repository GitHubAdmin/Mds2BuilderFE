<!--Header-->
<pvdm-page-header header="DQI MDS File Template">

  <pvdm-header-actions>
    <button
      type="button"
      ng-click="edit()"
      class="btn btn-primary">
        <i pvdm-icon="circle-plus"></i>
        <span translate>assessments.resident_generator</span>
    </button>
  </pvdm-header-actions>

</pvdm-page-header>
<!--Form-->
<div class="form-group">
  <form
    sf-schema="assessmentsCtrl.schema" 
    sf-model="assessmentsCtrl.model">
  </form>
</div>
<!--table-->
<div class="table-responsive">

  <table pvdm-sortable-table
    class="table table-striped">
    <thead>
      <tr>
        <th><span translate>assessments.master_no</span></th>
        <th><span translate>assessments.resident_identifier</span></th>
        <th><span translate>assessments.reason</span></th>
        <th><span translate>assessments.admit_date</span></th>
        <th><span translate>assessments.ref_date</span></th>
      </tr>
    </thead>
    <tbody>
      <tr
        ng-repeat="assessment in assessmentsCtrl.assessments.slice().reverse() track by $index">
        <td>{{assessment.Master_no}}</td>
        <td>{{assessment.Resident_identifier}}</td>
        <td>{{assessment.AA8}}</td>
        <td>{{assessment.AB1}}</td>
        <td>{{assessment.A3}}</td>
      </tr>
    </tbody>
  </table>

  <div ng-if="!assessmentsCtrl.assessments.length">
    <div class="alert alert-info">
      <i style="display:inline" pvdm-icon="circle-info"></i>
      <span translate>assessments.none_selected</span>
    </div>
  </div>
</div>
<div class="pvdm-trowser-footer">

  <button
    type="button"
    ng-click="assessmentsCtrl.addAssessment()"
    class="btn btn-primary"
    style="float:right"
    filename="assessments.csv">
      <i pvdm-icon="circle-plus"></i>
      <span></span>
  </button>
  <button
    type="button"
    ng-csv="assessmentsCtrl.getAssessmentList"
    csv-header="getHeaders()"
    class="btn btn-default"
    style="float:right"
    filename="assessments.csv">
      <span translate>assessments.export_csv</span>
  </button>

</div>
